<script setup lang="ts">
import { NTable, NButton, NCard } from 'naive-ui';
import { computed, ref } from 'vue';
import { useRouter } from 'vue-router';

const router = useRouter()

// ä»æœ¬åœ°ç¼“å­˜ä¸­è¯»å–ç”¨æˆ·ä¿¡æ¯
const name = ref(localStorage.getItem("name"))
const gender = computed(() => localStorage.getItem("gender") == "1" ? "ç”·" : "å¥³")
const stuID = ref(localStorage.getItem("stu_id"))
const id = ref(localStorage.getItem("id"))
const tel = ref(localStorage.getItem("tel"))
const qq = computed(() => {
    const qqStr = localStorage.getItem("qq")
    if (qqStr == "")
        return "æ— "
    else
        return qqStr
})
const wechat = computed(() => {
    const wechatStr = localStorage.getItem("wechat")
    if (wechatStr == "")
        return "æ— "
    else
        return wechatStr
})
const joinOp = ref(localStorage.getItem("join_op"))
const createOp = ref(localStorage.getItem("create_op"))
const campus = computed(() => {
    const campusNum = localStorage.getItem("campus")
    if (campusNum == "1") {
        return "æœæ™–æ ¡åŒº"
    } else if (campusNum == "2") {
        return "å±å³°æ ¡åŒº"
    } else if (campusNum == "3") {
        return "è«å¹²å±±æ ¡åŒº"
    }
})

function jumpToUpdateStudentInfo() {
    router.replace("/update/student")
}
</script>

<template>
    <n-card title="ğŸ“– &nbsp; åŸºæœ¬ä¿¡æ¯" embedded :bordered="false" size="small">
        <n-table :bordered="true" :single-line="false">
            <tbody>
                <tr>
                    <td class="left-item">
                        <strong>å§“å</strong>
                    </td>
                    <td class="right-item">{{ name }}</td>
                </tr>

                <tr>
                    <td class="left-item">
                        <strong>æ€§åˆ«</strong>
                    </td>
                    <td class="right-item">{{ gender }}</td>
                </tr>

                <tr>
                    <td class="left-item">
                        <strong>å­¦å·</strong>
                    </td>
                    <td class="right-item">{{ stuID }}</td>
                </tr>

                <tr>
                    <td class="left-item">
                        <strong>æ ¡åŒº</strong>
                    </td>
                    <td class="right-item">{{ campus }}</td>
                </tr>

                <tr>
                    <td class="left-item">
                        <strong>èº«ä»½è¯å·</strong>
                    </td>
                    <td class="right-item">{{ id }}</td>
                </tr>
            </tbody>
        </n-table>
    </n-card>

    <n-card title="â˜ï¸ &nbsp; è”ç³»æ–¹å¼" embedded :bordered="false" size="small">
        <n-table :bordered="true" :single-line="false">
            <tbody>
                <tr>
                    <td class="left-item">
                        <strong>ç”µè¯</strong>
                    </td>
                    <td class="right-item">{{ tel }}</td>
                </tr>

                <tr>
                    <td class="left-item">
                        <strong>å¾®ä¿¡</strong>
                    </td>
                    <td class="right-item">{{ wechat }}</td>
                </tr>

                <tr>
                    <td class="left-item">
                        <strong>QQ</strong>
                    </td>
                    <td class="right-item">{{ qq }}</td>
                </tr>
            </tbody>
        </n-table>
    </n-card>

    <n-card title="ğŸ“• &nbsp; å‰©ä½™æ¬¡æ•°" embedded :bordered="false" size="small">
        <n-table :bordered="true" :single-line="false">
            <tbody>
                <tr>
                    <td class="left-item">
                        <strong>åˆ›å»ºå›¢é˜Ÿ</strong>
                    </td>
                    <td class="right-item">{{ createOp }}</td>
                </tr>

                <tr>
                    <td class="left-item">
                        <strong>åŠ å…¥å›¢é˜Ÿ</strong>
                    </td>
                    <td class="right-item">{{ joinOp }}</td>
                </tr>
            </tbody>
        </n-table>
    </n-card>

    <n-button
        style="margin-top: 20px;  width: 100%;"
        type="primary"
        @click="jumpToUpdateStudentInfo"
    >ä¿®æ”¹ä¿¡æ¯</n-button>
</template>

<style>
.left-item {
    text-align: center;
    width: 34%;
}
.right-item {
    text-align: center;
}
.right-teammate-item {
    text-align: center;
}
</style>